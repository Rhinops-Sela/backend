[
  {
    "name": "authentiction",
    "description": "AWS Authentication Credentilas For Resource Creation",
    "displayName": "Authentication",
    "executer": "bash",
    "pages": [
      {
        "name": "authentiction",
        "global": true,
        "deletable": false,
        "mandatory": true,
        "displayName": "AWS Credentials",
        "image": "assets/component_logos/aws.png",
        "description": "AWS credentials for connecting to the cluster",
        "inputs": [
          {
            "controlType": "text",
            "tooltip": "AWS Access Key",
            "displayName": "Access Key",
            "regexValidation": ".*",
            "serverValue": "${AWS_ACCESS_KEY_ID}",
            "global": true
          },
          {
            "controlType": "text-password",
            "tooltip": "AWS Secret Access Key",
            "displayName": "Secret Access Key",
            "regexValidation": ".*",
            "serverValue": "${AWS_SECRET_ACCESS_KEY}",
            "global": true
          },
          {
            "controlType": "text",
            "tooltip": "AWS region for components creation",
            "displayName": "Region",
            "regexValidation": ".*",
            "serverValue": "${AWS_DEFAULT_REGION}",
            "global": true
          }
        ]
      }
    ]
  },
  {
    "name": "cluster",
    "description": "EKS cluster configuration",
    "displayName": "Cluster",
    "pages": [
      {
        "name": "cluster",
        "executer": "pwsh",
        "deletable": false,
        "mandatory": false,
        "displayName": "Cluster Definition",
        "image": "assets/component_logos/k8s.png",
        "description": "Please provide cluster information, if cluster doesn't exists it will be created",
        "inputs": [
          {
            "template": "cluster-name"
          },
          {
           "template": "region",
           "serverValue": "${CLUSTER_REGION}"
          },
          {
            "controlType": "checkbox",
            "tooltip": "Install Dashboard?",
            "displayName": "Install Dashboard?",
            "serverValue": "${DASHBOARD}"
          },
          {
            "controlType": "checkbox",
            "tooltip": "Pods will be able to scale",
            "displayName": "Install Horizontal Autoscaling?",
            "serverValue": "${CLUSTER_HORIZONTAL_AUTO_SCALE}"
          },
          {
            "controlType": "checkbox",
            "tooltip": "Nodes will be able to scale",
            "displayName": "Install Vertical Autoscaling?",
            "serverValue": "${CLUSTER_VERTICAL_AUTO_SCALE}"
          }
        ]
      },
      {
        "name": "nodegroup",
        "displayName": "NodeGroup",
        "mandatory": false,
        "image": "assets/component_logos/k8s.png",
        "description": "Please Provide Information Regarding The NodGroup",
        "repeatable": true,
        "inputs": [
          {
            "controlType": "text",
            "tooltip": "Node Group Name",
            "displayName": "Name",
            "regexValidation": ".*",
            "serverValue": "${NAME}"
          },
          {
            "template": "autoscaling-maximum"
          },
          {
            "template": "autoscaling-minimum"
          },
          {
            "template": "autoscaling-desired"
          },
          {
            "template": "spot"
          },
          {
            "controlType": "textarea",
            "tooltip": "Please provide list of node taints",
            "displayName": "Taints",
            "serverValue": "${TAINTS}"
          }
        ]
      }
    ]
  },
  {
    "name": "network",
    "executer": "bash",
    "description": "Networking configuration for the cluster",
    "displayName": "Networking",
    "pages": [
      {
        "name": "openvpn",
        "displayName": "VPN",
        "image": "assets/component_logos/openvpn.png",
        "description": "Please provide a list of users to be able to access the network",
        "inputs": [
          {
            "controlType": "textarea",
            "tooltip": "Please provide comma (,) separated list of users",
            "displayName": "List of VPN users",
            "serverValue": "${USERS}",
            "regexValidation": ".*"
          }
        ]
      },
      {
        "name": "core-dns",
        "displayName": "DNS",
        "image": "assets/component_logos/dns.png",
        "description": "Set of A / CNAME records to be accessible while connected to VPN",
        "inputs": [
          {
            "controlType": "textarea",
            "tooltip": "Please provide comma (,) separated list of A/CNMAE records (foo.io foo.namespace.svc.cluster.local)",
            "displayName": "DNS Records",
            "serverValue": "${DNS_RECORDS}",
            "regexValidation": ".*"
          }
        ]
      },
      {
        "name": "nginx",
        "displayName": "NGINX",
        "image": "assets/component_logos/nginx.png",
        "description": "This will allow the creation of ingress controller",
        "inputs": [
          {
            "controlType": "select",
            "tooltip": "If public selected a public elb will be created",
            "options": [
              "Public",
              "Private"
            ],
            "displayName": "Load Balancer Topology",
            "serverValue": "${ELB_TOPOLOGY}",
            "regexValidation": ".*"
          },
          {
            "controlType": "select",
            "tooltip": "The type of load balancer to create",
            "options": [
              "ALB",
              "NLB",
              "Classic"
            ],
            "displayName": "Load Balancer Type",
            "serverValue": "${ELB_TYPE}",
            "regexValidation": ".*"
          }
        ]
      }
    ]
  },
  {
    "name": "monitoring",
    "executer": "bash",
    "description": "Configuration & Parameters for monitoring the cluster",
    "displayName": "Monitoring",
    "pages": [
      {
        "name": "prometheus",
        "displayName": "Prometheus",
        "image": "assets/component_logos/prometheus.png",
        "description": "Prometheus configuration & parameters",
        "inputs": [
          {
            "controlType": "text",
            "tooltip": "Sender Address",
            "displayName": "From Email",
            "serverValue": "${FROM}",
            "regexValidation": ".*"
          },
          {
            "controlType": "text",
            "tooltip": "Email address of the reciever",
            "displayName": "To Email",
            "serverValue": "${TO}",
            "regexValidation": ".*"
          },
          {
            "controlType": "text",
            "tooltip": "SMTP",
            "displayName": "SMTP",
            "serverValue": "${TO}",
            "regexValidation": ".*"
          },
          {
            "template": "username",
            "tooltip": "SMTP username"
          },
          {
            "template": "username",
            "tooltip": "SMTP password",
            "displayName": "Password"
          }
        ]
      },
      {
        "name": "grafana",
        "displayName": "Grafana",
        "image": "assets/component_logos/grafana.png",
        "description": "Grafana configuration & parameters",
        "inputs": [
          {
            "controlType": "textarea",
            "tooltip": "Please provide comma (,) separated list of dashoards to install",
            "displayName": "Dashboards To Install",
            "serverValue": "${DASHNOARDS}",
            "regexValidation": ".*"
          },
          {
            "template": "persistant-data"
          }
        ]
      },
      {
        "name": "datadog",
        "displayName": "Datadog Logging",
        "image": "assets/component_logos/datadog.png",
        "description": "Datadog configuration & parameters",
        "inputs": [
          {
            "template": "namespace"
          },
          {
            "template": "password",
            "tooltip": "Datadog password"
          },
          {
            "template": "port"
          },
          {
            "controlType": "text",
            "tooltip": "List of namespaces to be ignored for log shipping (comma seperated)",
            "displayName": "Ignored Namespaces",
            "regexValidation": ".*",
            "serverValue": "${IGNORED_NAMESPACES}"
          }
        ]
      }
    ]
  },
  {
    "name": "databases",
    "executer": "bash",
    "displayName": "Databases",
    "description": "Selection of databases to available in the cluster",
    "pages": [
      {
        "name": "dynamo",
        "displayName": "DynamoDB",
        "image": "assets/component_logos/dynamo.png",
        "description": "DynamoDB configuration & parameters",
        "inputs": [
          {
            "controlType": "text",
            "tooltip": "Please select the namespace",
            "displayName": "Namespace",
            "regexValidation": ".*",
            "serverValue": "${NAMESPACE}"
          },
          {
            "controlType": "text",
            "tooltip": "Connection Port",
            "displayName": "Port",
            "regexValidation": "^[0-9]*$",
            "serverValue": "${PORT}"
          },
          {
            "controlType": "checkbox",
            "tooltip": "Use Persistent Data?",
            "displayName": "Use Persistent Data?",
            "serverValue": "${PERSISTANT_DATA}"
          }
        ]
      },
      {
        "name": "redis",
        "displayName": "Redis",
        "image": "assets/component_logos/redis.png",
        "description": "Redis configuration & parameters",
        "inputs": [
          {
            "template": "cluster-name"
          },
          {
            "template": "namespace"
          },
          {
            "template": "master-nodes"
          },
          {
            "template": "slave-nodes"
          },
          {
            "template": "instance-select",
            "tooltip": "Selecte Redis cluster instance type",
            "options": [
              "m5.xlrarge",
              "m5.large",
              "m5.2xlrarge"
            ]
          },
          {
            "template": "spot"
          }
        ]
      },
      {
        "name": "elasticsearch",
        "mandatory": false,
        "displayName": "ES",
        "image": "assets/component_logos/elasticsearch.png",
        "description": "ES configuration & parameters",
        "inputs": [
          {
            "template": "cluster-name"
          },
          {
            "template": "namespace"
          },
          {
            "template": "master-nodes"
          },
          {
            "template": "slave-nodes"
          },
          {
            "template": "instance-select",
            "tooltip": "Selecte ES cluster instance type",
            "options": [
              "m5.xlrarge",
              "m5.large",
              "m5.2xlrarge"
            ]
          },
          {
            "template": "spot"
          }
        ]
      }
    ]
  }
]